<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="wyjçš„ä½œå“å’Œçˆ±å¥½å±•ç¤º - æˆ‘çš„é¡¹ç›®ä¸å…´è¶£">
    <title>ä½œå“/çˆ±å¥½ - wyjçš„ä¸ªäººç½‘ç«™</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* å¡ç‰‡å¼å¸ƒå±€ä¸“ç”¨æ ·å¼ */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(139, 115, 85, 0.1);
            opacity: 1;
            transform: scale(1);
        }

        .project-card.hidden {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
        }

        .project-card:hover:not(.hidden) {
            transform: translateY(-5px) scale(1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .project-card h3 {
            color: #5d4e6d;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .project-card .project-type {
            color: #8b7355;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .project-card .project-description {
            color: #6b5b73;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .project-card .project-stats {
            margin: 1rem 0;
            color: #8b7355;
            font-size: 0.85rem;
        }

        .project-card .tech-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .project-card .tech-tag {
            background: rgba(139, 115, 85, 0.1);
            color: #8b7355;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .interest-card {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .interest-card:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
        }

        .interest-card h3 {
            color: #5d4e6d;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .interest-card p {
            color: #6b5b73;
            font-size: 0.9rem;
            margin: 0;
        }

        .future-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .plan-item {
            background: rgba(139, 115, 85, 0.05);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(139, 115, 85, 0.1);
            transition: all 0.3s ease;
        }

        .plan-item:hover {
            background: rgba(139, 115, 85, 0.1);
            transform: translateY(-1px);
        }

        .section-title {
            text-align: center;
            margin: 3rem 0 2rem;
            color: #5d4e6d;
            font-size: 1.8rem;
            font-weight: 300;
        }

        /* æ·±è‰²ä¸»é¢˜æ”¯æŒ */
        body.dark-theme .project-card,
        body.dark-theme .interest-card {
            background: rgba(18, 18, 18, 0.8);
            border-color: rgba(240, 230, 217, 0.2);
            color: #e8e6e3;
        }

        body.dark-theme .project-card h3,
        body.dark-theme .interest-card h3,
        body.dark-theme .section-title {
            color: #f0e6d9;
        }

        body.dark-theme .project-type {
            color: #f0e6d9;
        }

        body.dark-theme .project-description,
        body.dark-theme .interest-card p {
            color: #d4c5b9;
        }

        body.dark-theme .project-stats {
            color: #f0e6d9;
        }

        body.dark-theme .tech-tag {
            background: rgba(240, 230, 217, 0.2);
            color: #f0e6d9;
        }

        body.dark-theme .plan-item {
            background: rgba(18, 18, 18, 0.7);
            border-color: rgba(240, 230, 217, 0.2);
            color: #d4c5b9;
        }

        body.dark-theme .plan-item:hover {
            background: rgba(240, 230, 217, 0.1);
        }

        /* åŠ è½½å’Œé”™è¯¯çŠ¶æ€æ ·å¼ */
        .loading-message, .error-message {
            text-align: center;
            padding: 3rem 2rem;
            margin: 2rem 0;
        }

        .loading-message p {
            color: #6b5b73;
            font-size: 1.1rem;
            animation: pulse 2s infinite;
        }

        .error-message p {
            color: #d64545;
            font-size: 1.1rem;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        body.dark-theme .loading-message p {
            color: #d4c5b9;
        }

        body.dark-theme .error-message p {
            color: #ff6b6b;
        }

        /* GitHubé“¾æ¥æ ·å¼ */
        .project-card .github-link {
            color: #8b7355;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .project-card .github-link:hover {
            color: #5d4e6d;
        }

        body.dark-theme .project-card .github-link {
            color: #f0e6d9;
        }

        body.dark-theme .project-card .github-link:hover {
            color: #ffffff;
        }

        /* è¯­è¨€ç­›é€‰æŒ‰é’®æ ·å¼ */
        .language-filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
            padding: 1rem;
        }

        .filter-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(139, 115, 85, 0.2);
            border-radius: 25px;
            padding: 0.75rem 1.5rem;
            color: #6b5b73;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

        .filter-btn:hover {
            background: rgba(139, 115, 85, 0.1);
            border-color: rgba(139, 115, 85, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .filter-btn.active {
            background: #8b7355;
            color: white;
            border-color: #8b7355;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 115, 85, 0.3);
        }

        .filter-btn.active::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: white;
            border-radius: 3px;
        }

        /* æ·±è‰²ä¸»é¢˜ç­›é€‰æŒ‰é’® */
        body.dark-theme .filter-btn {
            background: rgba(18, 18, 18, 0.8);
            border-color: rgba(240, 230, 217, 0.3);
            color: #d4c5b9;
        }

        body.dark-theme .filter-btn:hover {
            background: rgba(240, 230, 217, 0.1);
            border-color: rgba(240, 230, 217, 0.5);
        }

        body.dark-theme .filter-btn.active {
            background: #f0e6d9;
            color: #1a1a1a;
            border-color: #f0e6d9;
        }

        /* ç§»åŠ¨ç«¯ç­›é€‰æŒ‰é’®ä¼˜åŒ– */
        @media (max-width: 768px) {
            .language-filters {
                gap: 0.5rem;
                padding: 0.5rem;
            }
            
            .filter-btn {
                padding: 0.5rem 1rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">é¦–é¡µ</a></li>
                <li><a href="about.html">å…³äºæˆ‘</a></li>
                <li><a href="portfolio.html">ä½œå“/çˆ±å¥½</a></li>
                <li><a href="contact.html">è”ç³»æ–¹å¼</a></li>
            </ul>
            <button id="theme-toggle" class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <span class="theme-icon">â˜€ï¸</span>
            </button>
        </nav>
    </header>

    <main>
        <h1>æˆ‘çš„ä½œå“ä¸çˆ±å¥½</h1>
        
        <h2 class="section-title">GitHub é¡¹ç›®ä½œå“</h2>
        
        <!-- è¯­è¨€ç­›é€‰æŒ‰é’® -->
        <div id="language-filters" class="language-filters" style="display: none;">
            <!-- ç­›é€‰æŒ‰é’®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div id="loading-message" class="loading-message">
            <p>æ­£åœ¨ä» GitHub åŠ è½½é¡¹ç›®...</p>
        </div>
        <div id="projects-grid" class="projects-grid" style="display: none;">
            <!-- é¡¹ç›®å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        <div id="error-message" class="error-message" style="display: none;">
            <p>æŠ±æ­‰ï¼Œæ— æ³•åŠ è½½GitHubé¡¹ç›®ã€‚è¯·ç¨åå†è¯•ã€‚</p>
        </div>

        <h2 class="section-title">å…´è¶£çˆ±å¥½</h2>
        <div class="interests-grid">
            <div class="interest-card">
                <h3>æ‘„å½±</h3>
                <p>è®°å½•ç”Ÿæ´»ç¾å¥½ç¬é—´ï¼Œæ“…é•¿é£æ™¯å’Œäººç‰©æ‘„å½±</p>
            </div>
            <div class="interest-card">
                <h3>ç¾é£Ÿ</h3>
                <p>æ¢ç´¢å„åœ°ç¾é£Ÿæ–‡åŒ–ï¼Œå°¤å…¶é’Ÿçˆ±ä¸­åç¾é£Ÿ</p>
            </div>
        </div>

        <h2 class="section-title">æœªæ¥è®¡åˆ’</h2>
        <div class="future-plans">
            <div class="plan-item">æ·±å…¥å­¦ä¹ äººå·¥æ™ºèƒ½</div>
            <div class="plan-item">å¼€å‘æ›´å¤šå¼€æºé¡¹ç›®</div>
            <div class="plan-item">å‚ä¸æŠ€æœ¯ç¤¾åŒºè´¡çŒ®</div>
            <div class="plan-item">æå‡UI/UXè®¾è®¡èƒ½åŠ›</div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 wyj</p>
    </footer>

    <script>
        // GitHubç”¨æˆ·åé…ç½®
        const GITHUB_USERNAME = 'aniamdwyj'; // GitHubç”¨æˆ·å

        // ProjectCardç±» - è´Ÿè´£ç”Ÿæˆé¡¹ç›®å¡ç‰‡çš„HTMLç»“æ„
        class ProjectCard {
            constructor(repoData) {
                this.name = repoData.name;
                this.description = repoData.description || 'æš‚æ— æè¿°';
                this.language = repoData.language || 'Unknown';
                this.htmlUrl = repoData.html_url;
                this.stars = repoData.stargazers_count;
                this.forks = repoData.forks_count;
                this.updatedAt = new Date(repoData.updated_at).toLocaleDateString('zh-CN');
            }

            // æ¸²æŸ“é¡¹ç›®å¡ç‰‡çš„HTMLç»“æ„
            render() {
                return `
                    <div class="project-card">
                        <h3>
                            <a href="${this.htmlUrl}" target="_blank" rel="noopener noreferrer" class="github-link">
                                ${this.name}
                            </a>
                        </h3>
                        <div class="project-type">${this.language}</div>
                        <div class="project-description">
                            ${this.description}
                        </div>
                        <div class="project-stats">
                            <small>â­ ${this.stars} | ğŸ´ ${this.forks} | æ›´æ–°: ${this.updatedAt}</small>
                        </div>
                        <div class="tech-tags">
                            <span class="tech-tag">${this.language}</span>
                            <span class="tech-tag">GitHub</span>
                        </div>
                    </div>
                `;
            }
        }

        // GitHub APIç®¡ç†ç±»
        class GitHubProjectManager {
            constructor(username) {
                this.username = username;
                this.apiUrl = `https://api.github.com/users/${username}/repos`;
                this.repositories = []; // å­˜å‚¨æ‰€æœ‰ä»“åº“æ•°æ®
                this.currentFilter = 'all'; // å½“å‰ç­›é€‰çŠ¶æ€
            }

            // ä½¿ç”¨async/awaitè·å–GitHubä»“åº“æ•°æ®
            async fetchRepositories() {
                try {
                    const response = await fetch(this.apiUrl);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const repositories = await response.json();
                    
                    // æŒ‰æ›´æ–°æ—¶é—´æ’åºï¼Œåªè¿”å›å…¬å¼€ä»“åº“
                    this.repositories = repositories
                        .filter(repo => !repo.private)
                        .sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
                    
                    return this.repositories;
                        
                } catch (error) {
                    console.error('è·å–GitHubä»“åº“å¤±è´¥:', error);
                    throw error;
                }
            }

            // ä½¿ç”¨reduceæå–æ‰€æœ‰å”¯ä¸€çš„ç¼–ç¨‹è¯­è¨€
            getUniqueLanguages() {
                return this.repositories
                    .map(repo => repo.language)
                    .filter(lang => lang !== null)
                    .reduce((unique, lang) => {
                        return unique.includes(lang) ? unique : [...unique, lang];
                    }, [])
                    .sort();
            }

            // åˆ›å»ºè¯­è¨€ç­›é€‰æŒ‰é’®
            createLanguageFilters() {
                const filterContainer = document.getElementById('language-filters');
                const languages = this.getUniqueLanguages();
                
                // æ¸…ç©ºç°æœ‰æŒ‰é’®
                filterContainer.innerHTML = '';
                
                // åˆ›å»º"å…¨éƒ¨"æŒ‰é’®
                const allButton = document.createElement('button');
                allButton.className = 'filter-btn active';
                allButton.textContent = 'å…¨éƒ¨';
                allButton.dataset.language = 'all';
                filterContainer.appendChild(allButton);
                
                // ä¸ºæ¯ç§è¯­è¨€åˆ›å»ºæŒ‰é’®
                languages.forEach(language => {
                    const button = document.createElement('button');
                    button.className = 'filter-btn';
                    button.textContent = language;
                    button.dataset.language = language;
                    filterContainer.appendChild(button);
                });
                
                // æ˜¾ç¤ºç­›é€‰æŒ‰é’®å®¹å™¨
                filterContainer.style.display = 'flex';
            }

            // æ¸²æŸ“é¡¹ç›®åˆ°é¡µé¢
            async renderProjects() {
                const loadingElement = document.getElementById('loading-message');
                const projectsGrid = document.getElementById('projects-grid');
                const errorElement = document.getElementById('error-message');

                try {
                    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                    loadingElement.style.display = 'block';
                    projectsGrid.style.display = 'none';
                    errorElement.style.display = 'none';

                    // è·å–ä»“åº“æ•°æ®
                    const repositories = await this.fetchRepositories();
                    
                    // å¦‚æœæ²¡æœ‰ä»“åº“
                    if (repositories.length === 0) {
                        throw new Error('æ²¡æœ‰æ‰¾åˆ°å…¬å¼€çš„ä»“åº“');
                    }

                    // æ¸…ç©ºä¹‹å‰çš„å†…å®¹
                    projectsGrid.innerHTML = '';

                    // ä¸ºæ¯ä¸ªä»“åº“åˆ›å»ºProjectCardå®ä¾‹å¹¶æ¸²æŸ“
                    repositories.forEach(repo => {
                        const projectCard = new ProjectCard(repo);
                        projectsGrid.innerHTML += projectCard.render();
                    });

                    // åˆ›å»ºè¯­è¨€ç­›é€‰æŒ‰é’®
                    this.createLanguageFilters();
                    
                    // è®¾ç½®äº‹ä»¶å§”æ‰˜å¤„ç†ç­›é€‰æŒ‰é’®ç‚¹å‡»
                    this.setupFilterEventListeners();

                    // æ˜¾ç¤ºé¡¹ç›®ç½‘æ ¼ï¼Œéšè—åŠ è½½çŠ¶æ€
                    loadingElement.style.display = 'none';
                    projectsGrid.style.display = 'grid';

                } catch (error) {
                    // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                    loadingElement.style.display = 'none';
                    projectsGrid.style.display = 'none';
                    errorElement.style.display = 'block';
                    
                    console.error('æ¸²æŸ“é¡¹ç›®å¤±è´¥:', error);
                }
            }

            // è®¾ç½®äº‹ä»¶å§”æ‰˜å¤„ç†ç­›é€‰æŒ‰é’®ç‚¹å‡»
            setupFilterEventListeners() {
                const filterContainer = document.getElementById('language-filters');
                
                // ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Œåªåœ¨å®¹å™¨ä¸Šç›‘å¬ç‚¹å‡»äº‹ä»¶
                filterContainer.addEventListener('click', (event) => {
                    if (event.target.classList.contains('filter-btn')) {
                        const selectedLanguage = event.target.dataset.language;
                        this.filterProjects(selectedLanguage);
                        this.updateActiveButton(event.target);
                    }
                });
            }

            // ç­›é€‰é¡¹ç›®å¹¶åº”ç”¨åŠ¨ç”»
            filterProjects(language) {
                const projectCards = document.querySelectorAll('.project-card');
                this.currentFilter = language;
                
                projectCards.forEach(card => {
                    const cardLanguage = this.getCardLanguage(card);
                    
                    if (language === 'all' || cardLanguage === language) {
                        // æ˜¾ç¤ºåŒ¹é…çš„å¡ç‰‡
                        card.classList.remove('hidden');
                    } else {
                        // éšè—ä¸åŒ¹é…çš„å¡ç‰‡
                        card.classList.add('hidden');
                    }
                });
            }

            // ä»é¡¹ç›®å¡ç‰‡ä¸­æå–è¯­è¨€ä¿¡æ¯
            getCardLanguage(card) {
                const typeElement = card.querySelector('.project-type');
                return typeElement ? typeElement.textContent.trim() : null;
            }

            // æ›´æ–°æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
            updateActiveButton(activeButton) {
                const allButtons = document.querySelectorAll('.filter-btn');
                
                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
                allButtons.forEach(btn => btn.classList.remove('active'));
                
                // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ æ¿€æ´»çŠ¶æ€
                activeButton.classList.add('active');
            }
        }

        // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        const themeToggle = document.querySelector('#theme-toggle');
        const themeIcon = document.querySelector('.theme-icon');
        const body = document.body;

        // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„ä¸»é¢˜åå¥½ï¼Œé»˜è®¤ä¸ºæµ…è‰²ä¸»é¢˜
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        // ç¡®ä¿é»˜è®¤çŠ¶æ€æ˜¯æµ…è‰²ä¸»é¢˜
        if (currentTheme === 'dark') {
            body.classList.add('dark-theme');
            themeIcon.textContent = 'ğŸŒ™';
        } else {
            // æ˜ç¡®è®¾ç½®æµ…è‰²ä¸»é¢˜çŠ¶æ€
            body.classList.remove('dark-theme');
            themeIcon.textContent = 'â˜€ï¸';
            localStorage.setItem('theme', 'light');
        }

        // ä¸»é¢˜åˆ‡æ¢äº‹ä»¶ç›‘å¬å™¨
        themeToggle.addEventListener('click', function() {
            body.classList.toggle('dark-theme');
            
            if (body.classList.contains('dark-theme')) {
                themeIcon.textContent = 'ğŸŒ™';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'light');
            }
        });

        // ç§‘çº³ç±³ç§˜ç±ç®¡ç†å™¨ï¼ˆç²¾ç®€ç‰ˆï¼‰
        class KonamiCodeManager {
            constructor() {
                this.konamiCode = [
                    'ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown',
                    'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight',
                    'KeyB', 'KeyA'
                ];
                this.userInput = [];
                this.isActivated = false;
                this.touchSequence = [];
                this.touchPattern = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'tap', 'tap'];
                this.touchTimeout = null;
                
                this.initKeyListener();
                this.initTouchListener();
            }

            initKeyListener() {
                document.addEventListener('keydown', (event) => {
                    if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
                        return;
                    }

                    const key = event.code;
                    if (this.konamiCode.includes(key)) {
                        this.userInput.push(key);
                        if (this.userInput.length > this.konamiCode.length) {
                            this.userInput.shift();
                        }
                        if (this.userInput.length === this.konamiCode.length && this.checkKonamiCode()) {
                            this.activateEasterEgg();
                        }
                    } else {
                        this.userInput = [];
                    }
                });
            }

            initTouchListener() {
                let startX, startY;
                
                document.addEventListener('touchstart', (event) => {
                    if (event.touches.length === 1) {
                        startX = event.touches[0].clientX;
                        startY = event.touches[0].clientY;
                    }
                }, { passive: true });

                document.addEventListener('touchend', (event) => {
                    if (event.changedTouches.length === 1) {
                        const endX = event.changedTouches[0].clientX;
                        const endY = event.changedTouches[0].clientY;
                        const deltaX = endX - startX;
                        const deltaY = endY - startY;
                        const minSwipeDistance = 30;
                        
                        let direction = null;
                        
                        if (Math.abs(deltaX) > Math.abs(deltaY)) {
                            if (Math.abs(deltaX) > minSwipeDistance) {
                                direction = deltaX > 0 ? 'right' : 'left';
                            }
                        } else {
                            if (Math.abs(deltaY) > minSwipeDistance) {
                                direction = deltaY > 0 ? 'down' : 'up';
                            }
                        }
                        
                        if (!direction && Math.abs(deltaX) < 10 && Math.abs(deltaY) < 10) {
                            direction = 'tap';
                        }
                        
                        if (direction) {
                            this.handleTouchInput(direction);
                        }
                    }
                }, { passive: true });
            }

            handleTouchInput(direction) {
                if (this.touchTimeout) {
                    clearTimeout(this.touchTimeout);
                }
                
                this.touchSequence.push(direction);
                
                if (this.touchSequence.length > this.touchPattern.length) {
                    this.touchSequence.shift();
                }
                
                if (this.touchSequence.length === this.touchPattern.length) {
                    if (this.checkTouchPattern()) {
                        this.activateEasterEgg();
                        return;
                    }
                }
                
                this.touchTimeout = setTimeout(() => {
                    this.touchSequence = [];
                }, 3000);
            }

            checkTouchPattern() {
                for (let i = 0; i < this.touchPattern.length; i++) {
                    if (this.touchSequence[i] !== this.touchPattern[i]) {
                        return false;
                    }
                }
                return true;
            }

            checkKonamiCode() {
                for (let i = 0; i < this.konamiCode.length; i++) {
                    if (this.userInput[i] !== this.konamiCode[i]) {
                        return false;
                    }
                }
                return true;
            }

            activateEasterEgg() {
                if (this.isActivated) return;
                this.isActivated = true;
                
                // ä¿å­˜æ¸¸æˆæ¨¡å¼çŠ¶æ€åˆ°localStorage
                localStorage.setItem('retroMode', 'active');
                
                this.showActivationMessage();
                setTimeout(() => {
                    document.body.classList.add('retro-8bit-theme');
                    this.addRetroElements();
                }, 1000);
                this.playRetroSound();
            }

            showActivationMessage() {
                const message = document.createElement('div');
                message.innerHTML = `
                    <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                                background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; padding: 2rem; 
                                border-radius: 10px; font-family: 'Courier New', monospace; font-size: 1.5rem; 
                                font-weight: bold; text-align: center; z-index: 10000; 
                                box-shadow: 0 0 30px rgba(255, 107, 107, 0.5); animation: konami-bounce 0.6s ease-in-out;">
                        ğŸ® KONAMI CODE ACTIVATED! ğŸ®<br>
                        <span style="font-size: 1rem; margin-top: 0.5rem; display: block;">Portfolio Hacked!</span>
                    </div>`;
                document.body.appendChild(message);
                setTimeout(() => { if (message.parentNode) message.parentNode.removeChild(message); }, 3000);
            }

            addRetroElements() {
                const retroBg = document.createElement('div');
                retroBg.className = 'retro-background';
                retroBg.innerHTML = '<div class="pixel-rain"></div><div class="retro-grid"></div>';
                document.body.appendChild(retroBg);

                const resetBtn = document.createElement('button');
                resetBtn.innerHTML = 'ğŸ® EXIT RETRO MODE';
                resetBtn.className = 'retro-reset-btn';
                resetBtn.addEventListener('click', () => this.deactivateEasterEgg());
                document.body.appendChild(resetBtn);
                
                // æ·»åŠ æ¸¸æˆå…¥å£æŒ‰é’®
                const gameBtn = document.createElement('a');
                gameBtn.href = 'snake-game.html';
                gameBtn.innerHTML = 'ğŸ è´ªåƒè›‡æ¸¸æˆ';
                gameBtn.className = 'retro-game-btn';
                document.body.appendChild(gameBtn);
            }

            deactivateEasterEgg() {
                document.body.classList.remove('retro-8bit-theme');
                
                // æ¸…é™¤localStorageçŠ¶æ€
                localStorage.removeItem('retroMode');
                
                const retroBg = document.querySelector('.retro-background');
                const resetBtn = document.querySelector('.retro-reset-btn');
                const gameBtn = document.querySelector('.retro-game-btn');
                if (retroBg) retroBg.remove();
                if (resetBtn) resetBtn.remove();
                if (gameBtn) gameBtn.remove();
                this.isActivated = false;
                this.userInput = [];
            }

            playRetroSound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const frequencies = [262, 330, 392, 523];
                    frequencies.forEach((freq, index) => {
                        setTimeout(() => {
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                            oscillator.type = 'square';
                            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                            oscillator.start(audioContext.currentTime);
                            oscillator.stop(audioContext.currentTime + 0.3);
                        }, index * 100);
                    });
                } catch (error) {
                    console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œä½†è¿™ä¸å½±å“å½©è›‹æ•ˆæœ:', error);
                }
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–GitHubé¡¹ç›®å±•ç¤º
        document.addEventListener('DOMContentLoaded', async function() {
            const projectManager = new GitHubProjectManager(GITHUB_USERNAME);
            await projectManager.renderProjects();
            
            // åˆå§‹åŒ–ç§‘çº³ç±³ç§˜ç±
            const konamiManager = new KonamiCodeManager();
            
            // æ£€æŸ¥æ˜¯å¦åº”è¯¥ä¿æŒæ¸¸æˆæ¨¡å¼
            if (localStorage.getItem('retroMode') === 'active') {
                setTimeout(() => {
                    konamiManager.isActivated = true;
                    document.body.classList.add('retro-8bit-theme');
                    konamiManager.addRetroElements();
                }, 100);
            }
        });
    </script>
</body>
</html>
