<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="wyjçš„ä¸ªäººç½‘ç«™ - æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´">
    <title>é¦–é¡µ - wyjçš„ä¸ªäººç½‘ç«™</title>
    <link rel="stylesheet" href="style.css">
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
</head>
<body class="index-page">
    <header>
        <nav>
            <ul>
                <li><a href="index.html">é¦–é¡µ</a></li>
                <li><a href="about.html">å…³äºæˆ‘</a></li>
                <li><a href="portfolio.html">ä½œå“/çˆ±å¥½</a></li>
                <li><a href="contact.html">è”ç³»æ–¹å¼</a></li>
            </ul>
            <button id="theme-toggle" class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <span class="theme-icon">â˜€ï¸</span>
            </button>
        </nav>
    </header>

    <main>
        <!-- HeroåŒºåŸŸ -->
        <section class="hero">
            <div class="hero-content">
                <h1 class="typewriter-text" id="typewriter">
                    <span id="text-display"></span>
                    <span class="cursor">|</span>
                </h1>
                <p class="hero-subtitle">æ¬¢è¿æ¥åˆ°æˆ‘çš„æ•°å­—ä¸–ç•Œ</p>
            </div>
        </section>
        
        <!-- ç®€ä»‹åŒºåŸŸ -->
        <section class="intro">
            <p>è¿™ä¸ªç½‘ç«™æ˜¯æˆ‘å±•ç¤ºè‡ªå·±çš„çª—å£ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æˆ‘ã€æŸ¥çœ‹æˆ‘çš„ä½œå“ï¼Œæˆ–è€…ä¸æˆ‘å–å¾—è”ç³»ã€‚</p>
        </section>

        <!-- åšå®¢åŒºåŸŸ -->
        <section class="blog-section" id="blog-section">
            <h2 class="blog-title">æˆ‘çš„åšå®¢</h2>
            <div class="blog-container" id="blog-container">
                <!-- åšæ–‡åˆ—è¡¨ - åˆå§‹å±…ä¸­æ˜¾ç¤º -->
                <div class="blog-sidebar" id="blog-sidebar">
                    <div id="posts-loading" class="posts-loading">
                        <p>æ­£åœ¨åŠ è½½åšæ–‡åˆ—è¡¨...</p>
                    </div>
                    <ul id="posts-list" class="posts-list" style="display: none;">
                        <!-- åšæ–‡æ ‡é¢˜åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </ul>
                </div>
                
                <!-- æ–‡ç« é˜…è¯»åŒºåŸŸ - åˆå§‹éšè— -->
                <div class="blog-content" id="blog-content">
                    <div class="article-header">
                        <button class="back-button" id="back-button" title="è¿”å›æ–‡ç« åˆ—è¡¨">
                            â† è¿”å›
                        </button>
                    </div>
                    <div id="article-content" class="article-content">
                        <!-- Markdownå†…å®¹å°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
                    </div>
                    <div id="article-loading" class="article-loading" style="display: none;">
                        <p>æ­£åœ¨åŠ è½½æ–‡ç« ...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 wyj</p>
    </footer>

    <script>
        // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        const themeToggle = document.querySelector('#theme-toggle');
        const themeIcon = document.querySelector('.theme-icon');
        const body = document.body;

        // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„ä¸»é¢˜åå¥½ï¼Œé»˜è®¤ä¸ºæµ…è‰²ä¸»é¢˜
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        // ç¡®ä¿é»˜è®¤çŠ¶æ€æ˜¯æµ…è‰²ä¸»é¢˜
        if (currentTheme === 'dark') {
            body.classList.add('dark-theme');
            themeIcon.textContent = 'ğŸŒ™';
        } else {
            // æ˜ç¡®è®¾ç½®æµ…è‰²ä¸»é¢˜çŠ¶æ€
            body.classList.remove('dark-theme');
            themeIcon.textContent = 'â˜€ï¸';
            localStorage.setItem('theme', 'light');
        }

        // ä¸»é¢˜åˆ‡æ¢äº‹ä»¶ç›‘å¬å™¨
        themeToggle.addEventListener('click', function() {
            body.classList.toggle('dark-theme');
            
            if (body.classList.contains('dark-theme')) {
                themeIcon.textContent = 'ğŸŒ™';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'light');
            }
        });

        // æ‰“å­—æœºæ•ˆæœ
        class TypeWriter {
            constructor(element, texts, speed = 100, deleteSpeed = 50, pauseTime = 2000) {
                this.element = element;
                this.texts = texts;
                this.speed = speed;
                this.deleteSpeed = deleteSpeed;
                this.pauseTime = pauseTime;
                this.textIndex = 0;
                this.charIndex = 0;
                this.isDeleting = false;
                this.init();
            }

            init() {
                setTimeout(() => this.type(), 500); // é¡µé¢åŠ è½½å500mså¼€å§‹
            }

            type() {
                const currentText = this.texts[this.textIndex];
                
                if (this.isDeleting) {
                    // åˆ é™¤å­—ç¬¦
                    this.element.textContent = currentText.substring(0, this.charIndex - 1);
                    this.charIndex--;
                } else {
                    // æ‰“å­—
                    this.element.textContent = currentText.substring(0, this.charIndex + 1);
                    this.charIndex++;
                }

                // è®¾ç½®ä¸‹ä¸€æ¬¡æ‰§è¡Œçš„æ—¶é—´
                let nextSpeed = this.isDeleting ? this.deleteSpeed : this.speed;
                
                // å¦‚æœæ‰“å­—å®Œæˆï¼Œå‡†å¤‡åˆ é™¤
                if (!this.isDeleting && this.charIndex === currentText.length) {
                    nextSpeed = this.pauseTime;
                    this.isDeleting = true;
                }
                // å¦‚æœåˆ é™¤å®Œæˆï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡æœ¬
                else if (this.isDeleting && this.charIndex === 0) {
                    this.isDeleting = false;
                    this.textIndex = (this.textIndex + 1) % this.texts.length;
                    nextSpeed = 300; // çŸ­æš‚åœé¡¿åå¼€å§‹ä¸‹ä¸€å¥
                }

                setTimeout(() => this.type(), nextSpeed);
            }
        }

        // åšå®¢ç®¡ç†ç±»
        class BlogManager {
            constructor() {
                this.posts = [];
                this.currentPost = null;
            }

            // åŠ è½½åšå®¢æ–‡ç« åˆ—è¡¨
            async loadPosts() {
                try {
                    const response = await fetch('./posts/posts.json');
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    this.posts = await response.json();
                    this.renderPostsList();
                } catch (error) {
                    console.error('åŠ è½½åšå®¢åˆ—è¡¨å¤±è´¥:', error);
                    this.showError('æ— æ³•åŠ è½½åšå®¢åˆ—è¡¨');
                }
            }

            // æ¸²æŸ“åšå®¢æ–‡ç« åˆ—è¡¨
            renderPostsList() {
                const postsLoading = document.getElementById('posts-loading');
                const postsList = document.getElementById('posts-list');

                postsLoading.style.display = 'none';
                postsList.style.display = 'block';
                postsList.innerHTML = '';

                this.posts.forEach(post => {
                    const listItem = document.createElement('li');
                    listItem.className = 'post-item';
                    listItem.dataset.postId = post.id;
                    
                    listItem.innerHTML = `
                        <h3 class="post-title">${post.title}</h3>
                        <div class="post-date">${this.formatDate(post.date)}</div>
                    `;

                    listItem.addEventListener('click', () => {
                        this.loadPost(post);
                        this.setActivePost(listItem);
                    });

                    postsList.appendChild(listItem);
                });
            }

            // åŠ è½½å¹¶æ˜¾ç¤ºæ–‡ç« å†…å®¹
            async loadPost(post) {
                try {
                    this.showArticleLoading();
                    
                    const response = await fetch(`./posts/${post.filename}`);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const markdownContent = await response.text();
                    const htmlContent = marked.parse(markdownContent);
                    
                    this.showArticleContent(htmlContent);
                    this.currentPost = post;
                    
                } catch (error) {
                    console.error('åŠ è½½æ–‡ç« å¤±è´¥:', error);
                    this.showError('æ— æ³•åŠ è½½æ–‡ç« å†…å®¹');
                }
            }

            // æ˜¾ç¤ºæ–‡ç« åŠ è½½çŠ¶æ€
            showArticleLoading() {
                const blogContainer = document.getElementById('blog-container');
                const articleContent = document.getElementById('article-content');
                const articleLoading = document.getElementById('article-loading');
                
                // é¦–å…ˆè§¦å‘å¸ƒå±€è½¬æ¢
                blogContainer.classList.add('expanded');
                
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                articleContent.style.display = 'none';
                articleLoading.style.display = 'flex';
            }

            // æ˜¾ç¤ºæ–‡ç« å†…å®¹
            showArticleContent(htmlContent) {
                const articleContent = document.getElementById('article-content');
                const blogContainer = document.getElementById('blog-container');
                
                document.getElementById('article-loading').style.display = 'none';
                
                articleContent.innerHTML = htmlContent;
                articleContent.style.display = 'block';
                
                // è§¦å‘å¸ƒå±€è½¬æ¢åŠ¨ç”»
                blogContainer.classList.add('expanded');
                
                // æ»šåŠ¨åˆ°æ–‡ç« å¼€å¤´
                setTimeout(() => {
                    articleContent.scrollTop = 0;
                }, 300);
            }

            // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            showError(message) {
                const articleContent = document.getElementById('article-content');
                const blogContainer = document.getElementById('blog-container');
                
                document.getElementById('article-loading').style.display = 'none';
                
                articleContent.innerHTML = `
                    <div style="text-align: center; padding: 3rem; color: #d64545;">
                        <h3>âŒ åŠ è½½å¤±è´¥</h3>
                        <p>${message}</p>
                    </div>
                `;
                articleContent.style.display = 'block';
                
                // è§¦å‘å¸ƒå±€è½¬æ¢åŠ¨ç”»
                blogContainer.classList.add('expanded');
            }

            // è¿”å›æ–‡ç« åˆ—è¡¨
            returnToList() {
                const blogContainer = document.getElementById('blog-container');
                const articleContent = document.getElementById('article-content');
                
                // ç§»é™¤å±•å¼€çŠ¶æ€
                blogContainer.classList.remove('expanded');
                
                // éšè—æ–‡ç« å†…å®¹
                setTimeout(() => {
                    articleContent.style.display = 'none';
                    articleContent.innerHTML = '';
                }, 300);
                
                // ç§»é™¤æ‰€æœ‰æ–‡ç« çš„æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.post-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                this.currentPost = null;
            }

            // è®¾ç½®å½“å‰æ¿€æ´»çš„æ–‡ç« 
            setActivePost(activeItem) {
                // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.post-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // æ·»åŠ å½“å‰é¡¹çš„æ¿€æ´»çŠ¶æ€
                activeItem.classList.add('active');
            }

            // æ ¼å¼åŒ–æ—¥æœŸ
            formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('zh-CN', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
        }

        // ç§‘çº³ç±³ç§˜ç±ç®¡ç†å™¨
        class KonamiCodeManager {
            constructor() {
                this.konamiCode = [
                    'ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown',
                    'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight',
                    'KeyB', 'KeyA'
                ];
                this.userInput = [];
                this.isActivated = false;
                this.touchSequence = [];
                this.touchPattern = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'tap', 'tap'];
                this.lastTouchTime = 0;
                this.touchTimeout = null;
                
                this.initKeyListener();
                this.initTouchListener();
            }

            initKeyListener() {
                document.addEventListener('keydown', (event) => {
                    this.handleKeyPress(event);
                });
            }

            initTouchListener() {
                let startX, startY;
                
                document.addEventListener('touchstart', (event) => {
                    if (event.touches.length === 1) {
                        startX = event.touches[0].clientX;
                        startY = event.touches[0].clientY;
                        this.lastTouchTime = Date.now();
                    }
                }, { passive: true });

                document.addEventListener('touchend', (event) => {
                    if (event.changedTouches.length === 1) {
                        const endX = event.changedTouches[0].clientX;
                        const endY = event.changedTouches[0].clientY;
                        const deltaX = endX - startX;
                        const deltaY = endY - startY;
                        const minSwipeDistance = 30;
                        
                        let direction = null;
                        
                        // æ£€æµ‹æ»‘åŠ¨æ–¹å‘
                        if (Math.abs(deltaX) > Math.abs(deltaY)) {
                            // æ°´å¹³æ»‘åŠ¨
                            if (Math.abs(deltaX) > minSwipeDistance) {
                                direction = deltaX > 0 ? 'right' : 'left';
                            }
                        } else {
                            // å‚ç›´æ»‘åŠ¨
                            if (Math.abs(deltaY) > minSwipeDistance) {
                                direction = deltaY > 0 ? 'down' : 'up';
                            }
                        }
                        
                        // å¦‚æœæ²¡æœ‰æ»‘åŠ¨ï¼Œè®¤ä¸ºæ˜¯ç‚¹å‡»
                        if (!direction && Math.abs(deltaX) < 10 && Math.abs(deltaY) < 10) {
                            direction = 'tap';
                        }
                        
                        if (direction) {
                            this.handleTouchInput(direction);
                        }
                    }
                }, { passive: true });
            }

            handleTouchInput(direction) {
                // æ¸…é™¤ä¹‹å‰çš„è¶…æ—¶
                if (this.touchTimeout) {
                    clearTimeout(this.touchTimeout);
                }
                
                this.touchSequence.push(direction);
                
                // ä¿æŒåºåˆ—é•¿åº¦
                if (this.touchSequence.length > this.touchPattern.length) {
                    this.touchSequence.shift();
                }
                
                // æ£€æŸ¥æ˜¯å¦åŒ¹é…
                if (this.touchSequence.length === this.touchPattern.length) {
                    if (this.checkTouchPattern()) {
                        this.activateEasterEgg();
                        return;
                    }
                }
                
                // è®¾ç½®é‡ç½®è¶…æ—¶ï¼ˆ3ç§’æ— æ“ä½œé‡ç½®ï¼‰
                this.touchTimeout = setTimeout(() => {
                    this.touchSequence = [];
                }, 3000);
            }

            checkTouchPattern() {
                for (let i = 0; i < this.touchPattern.length; i++) {
                    if (this.touchSequence[i] !== this.touchPattern[i]) {
                        return false;
                    }
                }
                return true;
            }

            handleKeyPress(event) {
                // é˜»æ­¢åœ¨è¾“å…¥æ¡†ä¸­è§¦å‘
                if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
                    return;
                }

                const key = event.code;

                // æ£€æŸ¥æ˜¯å¦æ˜¯ç§˜ç±ä¸­çš„æŒ‰é”®
                if (this.konamiCode.includes(key)) {
                    this.userInput.push(key);
                    
                    // ä¿æŒé˜Ÿåˆ—é•¿åº¦ä¸è¶…è¿‡ç§˜ç±é•¿åº¦
                    if (this.userInput.length > this.konamiCode.length) {
                        this.userInput.shift();
                    }
                    
                    // æ£€æŸ¥æ˜¯å¦åŒ¹é…å®Œæ•´ç§˜ç±
                    if (this.userInput.length === this.konamiCode.length) {
                        if (this.checkKonamiCode()) {
                            this.activateEasterEgg();
                        }
                    }
                } else {
                    // å¦‚æœæŒ‰äº†é”™è¯¯çš„é”®ï¼Œé‡ç½®åºåˆ—
                    this.userInput = [];
                }
            }

            checkKonamiCode() {
                for (let i = 0; i < this.konamiCode.length; i++) {
                    if (this.userInput[i] !== this.konamiCode[i]) {
                        return false;
                    }
                }
                return true;
            }

            activateEasterEgg() {
                if (this.isActivated) return; // é˜²æ­¢é‡å¤æ¿€æ´»
                
                this.isActivated = true;
                console.log('ğŸ® ç§‘çº³ç±³ç§˜ç±æ¿€æ´»ï¼');
                
                // ä¿å­˜æ¸¸æˆæ¨¡å¼çŠ¶æ€åˆ°localStorage
                localStorage.setItem('retroMode', 'active');
                
                // æ˜¾ç¤ºæ¿€æ´»æç¤º
                this.showActivationMessage();
                
                // åˆ‡æ¢åˆ°8-bitå¤å¤ä¸»é¢˜
                setTimeout(() => {
                    this.activate8BitTheme();
                }, 1000);
                
                // æ·»åŠ å¤å¤éŸ³æ•ˆæç¤º
                this.playRetroSound();
            }

            showActivationMessage() {
                const message = document.createElement('div');
                message.innerHTML = `
                    <div style="
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
                        color: white;
                        padding: 2rem;
                        border-radius: 10px;
                        font-family: 'Courier New', monospace;
                        font-size: 1.5rem;
                        font-weight: bold;
                        text-align: center;
                        z-index: 10000;
                        box-shadow: 0 0 30px rgba(255, 107, 107, 0.5);
                        animation: konami-bounce 0.6s ease-in-out;
                        max-width: 500px;
                    ">
                        ğŸ® KONAMI CODE ACTIVATED! ğŸ®<br>
                        <span style="font-size: 1rem; margin-top: 0.5rem; display: block;">
                            Welcome to the 8-bit world!
                        </span>
                        <span style="font-size: 0.8rem; margin-top: 0.5rem; display: block; color: #f0e6d9;">
                            ${this.touchSequence.length > 0 ? 'ğŸ“± è§¦å±æ¿€æ´»æˆåŠŸï¼' : 'âŒ¨ï¸ é”®ç›˜æ¿€æ´»æˆåŠŸï¼'}
                        </span>
                        <div style="margin-top: 1.5rem;">
                            <a href="snake-game.html" style="
                                background: rgba(0, 0, 0, 0.8);
                                color: #00ff41;
                                border: 2px solid #00ff41;
                                padding: 0.8rem 1.5rem;
                                border-radius: 5px;
                                text-decoration: none;
                                font-size: 1rem;
                                font-weight: bold;
                                display: inline-block;
                                margin: 0.3rem;
                                transition: all 0.3s ease;
                                text-shadow: 1px 1px 0px #000;
                            " onmouseover="this.style.background='#00ff41'; this.style.color='#000'; this.style.textShadow='none';" 
                               onmouseout="this.style.background='rgba(0, 0, 0, 0.8)'; this.style.color='#00ff41'; this.style.textShadow='1px 1px 0px #000';">
                                ğŸ è´ªåƒè›‡æ¸¸æˆ
                            </a>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(message);
                
                // 5ç§’åç§»é™¤æç¤ºï¼ˆå»¶é•¿æ—¶é—´è®©ç”¨æˆ·çœ‹åˆ°æ¸¸æˆå…¥å£ï¼‰
                setTimeout(() => {
                    if (message.parentNode) {
                        message.parentNode.removeChild(message);
                    }
                }, 5000);
            }

            activate8BitTheme() {
                document.body.classList.add('retro-8bit-theme');
                
                // æ·»åŠ å¤å¤èƒŒæ™¯åŠ¨ç”»
                this.addRetroBackground();
                
                // é‡ç½®æŒ‰é’®ï¼ˆè®©ç”¨æˆ·å¯ä»¥é€€å‡ºå¤å¤æ¨¡å¼ï¼‰
                this.addResetButton();
            }

            addRetroBackground() {
                const retroBg = document.createElement('div');
                retroBg.className = 'retro-background';
                retroBg.innerHTML = `
                    <div class="pixel-rain"></div>
                    <div class="retro-grid"></div>
                `;
                document.body.appendChild(retroBg);
            }

            addResetButton() {
                const resetBtn = document.createElement('button');
                resetBtn.innerHTML = 'ğŸ® EXIT RETRO MODE';
                resetBtn.className = 'retro-reset-btn';
                resetBtn.addEventListener('click', () => {
                    this.deactivateEasterEgg();
                });
                document.body.appendChild(resetBtn);
                
                // æ·»åŠ æ¸¸æˆå…¥å£æŒ‰é’®
                const gameBtn = document.createElement('a');
                gameBtn.href = 'snake-game.html';
                gameBtn.innerHTML = 'ğŸ è´ªåƒè›‡æ¸¸æˆ';
                gameBtn.className = 'retro-game-btn';
                document.body.appendChild(gameBtn);
            }

            deactivateEasterEgg() {
                document.body.classList.remove('retro-8bit-theme');
                
                // æ¸…é™¤localStorageçŠ¶æ€
                localStorage.removeItem('retroMode');
                
                // ç§»é™¤å¤å¤å…ƒç´ 
                const retroBg = document.querySelector('.retro-background');
                const resetBtn = document.querySelector('.retro-reset-btn');
                const gameBtn = document.querySelector('.retro-game-btn');
                
                if (retroBg) retroBg.remove();
                if (resetBtn) resetBtn.remove();
                if (gameBtn) gameBtn.remove();
                
                this.isActivated = false;
                this.userInput = []; // é‡ç½®è¾“å…¥åºåˆ—
                
                console.log('ğŸ® å¤å¤æ¨¡å¼å·²é€€å‡º');
            }

            playRetroSound() {
                // ä½¿ç”¨Web Audio APIåˆ›å»ºå¤å¤éŸ³æ•ˆ
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    
                    // åˆ›å»ºç»å…¸çš„"power up"éŸ³æ•ˆ
                    const frequencies = [262, 330, 392, 523]; // C4, E4, G4, C5
                    
                    frequencies.forEach((freq, index) => {
                        setTimeout(() => {
                            const oscillator = audioContext.createOscillator();
                            const gainNode = audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(audioContext.destination);
                            
                            oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                            oscillator.type = 'square'; // 8-bitæ–¹æ³¢éŸ³è‰²
                            
                            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                            
                            oscillator.start(audioContext.currentTime);
                            oscillator.stop(audioContext.currentTime + 0.3);
                        }, index * 100);
                    });
                } catch (error) {
                    console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œä½†è¿™ä¸å½±å“å½©è›‹æ•ˆæœ:', error);
                }
            }
        }

        // ç­‰å¾…DOMåŠ è½½å®Œæˆåå¯åŠ¨æ‰“å­—æœºæ•ˆæœå’Œåšå®¢ç³»ç»Ÿ
        document.addEventListener('DOMContentLoaded', async function() {
            // å¯åŠ¨æ‰“å­—æœºæ•ˆæœ
            const textDisplay = document.getElementById('text-display');
            const texts = [
                'ä½ å¥½ï¼Œæˆ‘æ˜¯wyj',
                'ä¸€åè®¡ç®—æœºå¼€å‘çˆ±å¥½è€…',
                'æœŸå¾…ä¸ä½ çš„ç›¸é‡'
            ];
            
            new TypeWriter(textDisplay, texts, 120, 60, 2000);

            // å¯åŠ¨åšå®¢ç³»ç»Ÿ
            const blogManager = new BlogManager();
            await blogManager.loadPosts();
            
            // è®¾ç½®è¿”å›æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨
            const backButton = document.getElementById('back-button');
            if (backButton) {
                backButton.addEventListener('click', () => {
                    blogManager.returnToList();
                });
            }
            
            // åˆå§‹åŒ–ç§‘çº³ç±³ç§˜ç±ï¼ˆéšè—å½©è›‹ï¼‰
            const konamiManager = new KonamiCodeManager();
            window.konamiManager = konamiManager; // å…¨å±€è®¿é—®ï¼Œæ–¹ä¾¿è°ƒè¯•
            
            // æ£€æŸ¥æ˜¯å¦åº”è¯¥ä¿æŒæ¸¸æˆæ¨¡å¼
            if (localStorage.getItem('retroMode') === 'active') {
                setTimeout(() => {
                    konamiManager.isActivated = true;
                    konamiManager.activate8BitTheme();
                }, 100);
            }
        });
    </script>
</body>
</html>
